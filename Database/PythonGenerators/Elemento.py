messaggio= [(1000, 0, 0, "Grazie per l''informazione.", "2026-01-14 23:30:32", 341, 319, 0, 0, None, 178),
(1001, 0, 0, "Puoi chiarire meglio il punto?", "2026-01-26 05:13:40", 186, 62, 0, 0, None, 31),
(1002, 1, 1, "Proponiamo un sondaggio.", "2026-01-13 05:35:25", 185, 168, 0, 0, None, 77),
(1003, 1, 1, "Ho dei dubbi sul contenuto.", "2026-01-26 21:26:48", 270, 120, 0, 0, None, 54),
(1004, 2, 2, "Ci sono conflitti con altri impegni.", "2026-01-15 18:52:50", 115, 37, 0, 0, None, 123),
(1005, 2, 2, "Sarà presente qualcuno del dipartimento?", "2026-01-20 21:54:16", 81, 24, 0, 0, None, 13),
(1006, 3, 3, "Serve approvazione dal coordinatore.", "2026-01-17 06:06:47", 424, 17, 0, 0, None, 54),
(1007, 3, 3, "Non ero a conoscenza di questo aggiornamento.", "2026-01-26 21:24:30", 204, 193, 0, 0, None, 27),
(1008, 3, 3, "Chi partecipa al meeting?", "2026-01-17 12:12:25", 230, 79, 0, 0, None, 185),
(1009, 4, 4, "Va bene così, procediamo.", "2026-01-21 00:30:50", 396, 232, 0, 0, None, 2),
(1010, 4, 4, "Non credo sia necessario cambiare.", "2026-01-28 22:36:30", 397, 39, 0, 0, None, 177),
(1011, 4, 4, "Questo thread è molto utile.", "2026-01-19 11:47:18", 123, 38, 0, 0, None, 49),
(1012, 4, 4, "Potremmo includere altri punti.", "2026-01-18 16:06:28", 115, 52, 0, 0, None, 245),
(1013, 4, 4, "Posso avere una copia del documento?", "2026-01-23 21:46:52", 421, 199, 0, 0, None, 239),
(1014, 5, 5, "Possiamo fare una riunione online?", "2026-01-19 18:22:56", 134, 56, 0, 0, None, 114),
(1015, 5, 5, "Dobbiamo informare anche gli studenti.", "2026-01-20 15:14:25", 95, 10, 0, 0, None, 174),
(1016, 6, 6, "Ci sono conflitti con altri impegni.", "2026-01-22 12:57:11", 223, 138, 0, 0, None, 247),
(1017, 6, 6, "Potremmo fare una riunione preliminare.", "2026-02-01 06:40:38", 411, 152, 0, 0, None, 161),
(1018, 8, 8, "Ottima iniziativa!", "2026-02-01 19:58:27", 32, 21, 0, 0, None, 84),
(1019, 8, 8, "Proponiamo un sondaggio.", "2026-02-01 21:43:51", 320, 169, 0, 0, None, 70),
(1020, 8, 8, "E'' una buona proposta.", "2026-02-01 15:41:56", 94, 27, 0, 0, None, 247),
(1021, 9, 9, "Concordo pienamente con quanto detto.", "2026-02-01 23:57:30", 461, 105, 0, 0, None, 197),
(1022, 9, 9, "Chi è responsabile di questa sezione?", "2026-01-24 18:22:29", 261, 8, 0, 0, None, 251),
(1023, 9, 9, "La documentazione è pronta.", "2026-01-21 23:07:42", 449, 138, 0, 0, None, 98),
(1024, 9, 9, "Chi è responsabile di questa sezione?", "2026-01-29 05:15:55", 51, 29, 0, 0, None, 43),
(1025, 9, 9, "Ottima iniziativa!", "2026-01-20 19:36:56", 282, 79, 0, 0, None, 44),
(1026, 10, 10, "Non dimentichiamo le scadenze.", "2026-02-01 20:33:04", 386, 4, 0, 0, None, 212),
(1027, 10, 10, "Puoi chiarire meglio il punto?", "2026-02-01 12:39:51", 104, 101, 0, 0, None, 166),
(1028, 10, 10, "Secondo me bisogna rivedere la data proposta.", "2026-02-01 15:23:37", 407, 149, 0, 0, None, 6),
(1029, 10, 10, "Suggerisco di posticipare.", "2026-02-01 18:11:57", 269, 202, 0, 0, None, 106),
(1030, 10, 10, "Chi è responsabile di questa sezione?", "2026-02-01 16:45:21", 188, 153, 0, 0, None, 242)]


thread= [(0, 0, 0, 0, "Riunione dipartimento", "La riunione del dipartimento si terrà venerdì alle ore 15 in aula docenti.", "2026-01-10 09:30:00", 5, 0, 1, 0, 1, None, 3),
 (1, 0, 0, 1, "Sostituzioni docenti assenti", "Inserire qui le disponibilità per eventuali sostituzioni della prossima settimana.", "2026-01-11 08:15:00", 3, 0, 0, 0, 0, None, 5),
 (2, 0, 3, 0, "Calendario verifiche", "Il calendario delle verifiche del mese è disponibile sul registro elettronico.", "2026-01-12 10:00:00", 12, 1, 1, 0, 1, None, 8),
 (3, 1, 0, 0, "Assemblea di istituto", "Proposte per i temi dell’assemblea del prossimo mese.", "2026-01-13 14:20:00", 8, 0, 0, 0, 0, None, 23), 
 (4, 1, 1, 0, "Incontro con i docenti", "L’incontro con i docenti rappresentanti si terrà martedì alle 11.", "2026-01-14 09:00:00", 15, 2, 1, 0, 1, None, 31), 
 (5, 1, 2, 0,"Gita scolastica", "Avete idee per la prossima gita scolastica?","2026-01-15 16:45:00", 20, 3, 0, 0, 0, None, 23),
 (6, 1, 2, 1,"Orario lezioni","Che ne pensate del nuovo orario delle lezioni?","2026-01-16 12:10:00",10, 1, 0, 0, 0, None, 24),
 (7, 2, 3, 0,"Chiusura scuola","La scuola resterà chiusa lunedì per manutenzione straordinaria.","2026-01-17 07:30:00",50, 0, 1, 1, 1, None, 1),
 (8, 2, 4, 0, "Aggiornamenti sull'orario settimanale","In questo thread trovate tutte le modifiche e gli aggiornamenti agli orari delle lezioni di questa settimana.", "2026-02-01 10:00:00", 100, 20, 0, 0, 0, None, None),
 (9, 2, 4, 1, "Domande esami", "Spazio per fare domande sugli esami.", "2026-01-13 11:30:00", 165, 3, 1, 0, 0, None, None),
 (10, 2, 4, 2, "Comunicazioni segreteria", "Comunicazioni importanti per tutti gli studenti.", "2026-02-01 12:00:00", 442, 130, 0, 0, 0, None, None)]

import random

MAX_ELEMENTI = 50
CODICE_START = 1    

thread_list = thread
messaggi_list = messaggio

# Thread utilizzabili:
# Pin = 0, Chiuso = 0, No_Reply = 0
thread_validi = [
    t for t in thread_list
    if t[9] == 0 and t[10] == 0 and t[11] == 0
]

# Messaggi utilizzabili:
# Pin = 0, Pin_Speciale = 0
messaggi_validi = [
    m for m in messaggi_list
    if m[7] == 0 and m[8] == 0
]

def nome_elemento_da_thread(titolo):
    """
    Genera un nome coerente per un elemento basato su un thread
    """
    templates = [
        f"Sei d'accordo su '{titolo}'?",
        f"Cosa ne pensi di '{titolo}'?",
        f"Opinione riguardo '{titolo}'",
        f"Quanto è rilevante '{titolo}'?",
        f"Valutazione su '{titolo}'"
    ]
    return random.choice(templates)


def nome_elemento_da_messaggio(testo):
    """
    Genera un nome coerente per un elemento basato su un messaggio
    (tagliamo il testo per evitare nomi troppo lunghi)
    """
    snippet = testo[:40].rstrip(".")
    templates = [
        f"Condividi questa affermazione?",
        f"Sei d'accordo con: '{snippet}...'?",
        f"Quanto trovi valida questa opinione?",
        f"Ti trovi d'accordo con questo messaggio?"
    ]
    return random.choice(templates)


def genera_voto():
    """
    Genera un voto realistico (0–500)
    con leggera variabilità
    """
    return random.randint(0, 500)


# ==========================
# GENERAZIONE ELEMENTI
# ==========================

elementi = []
codice_corrente = CODICE_START

# scegliamo un numero casuale di elementi (max 50)
num_elementi = (MAX_ELEMENTI)

for _ in range(num_elementi):

    # scegliamo casualmente se l'elemento è legato a thread o messaggio
    usa_thread = random.choice([True, False])

    if usa_thread and thread_validi:
        t = random.choice(thread_validi)

        cod_unico_thread = t[0]      # Cod_Unico del thread
        cod_unico_messaggio = None
        nome = nome_elemento_da_thread(t[4])

    else:
        m = random.choice(messaggi_validi)

        cod_unico_thread = None
        cod_unico_messaggio = m[0]   # Cod_Unico del messaggio
        nome = nome_elemento_da_messaggio(m[3])

    voto = genera_voto()

    elementi.append(
        (
            codice_corrente,
            nome,
            voto,
            cod_unico_thread,
            cod_unico_messaggio
        )
    )

    codice_corrente += 1


# ==========================
# OUTPUT SQL
# ==========================
for e in elementi:
    codice, nome, voto, cod_thread, cod_msg = e

    # sostituiamo eventuali " nel testo per evitare errori SQL
    nome_sql = nome.replace('"', '""')

    print(
        f'insert into Elemento values ({codice}, "{nome_sql}", {voto}, '
        f'{"null" if cod_thread is None else cod_thread}, '
        f'{"null" if cod_msg is None else cod_msg});'
    )

