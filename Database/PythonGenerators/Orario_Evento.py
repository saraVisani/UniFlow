import random
from datetime import datetime, timedelta

luoghi = [(0,115, "Campo Sportivo"),
(1,95, "Spazio Cultura"),
(2,4220, "Anfiteatro"),
(3,450, "Palazzetto Polifunzionale"),
(4,90, "Palasport"),
(5,3150, "Arena Concerti"),
(6,60, "Teatro all'Aperto"),
(7,120, "Palasport"),
(8,335, "Campo Sportivo"),
(9,44150, "Sala Consiliare"),
(10,325, "Cinema Moderno"),
(11,540, "Arena Comunale"),
(12,210, "Palazzo della Cultura"),
(13,115, "Palazzetto dello Sport"),
(14,130, "Sala Conferenze"),
(15, 10, 'Ufficio Erasmus'),
(16, 9, 'Ufficio Segreteria Studenti'),
(17, 9, 'Ufficio Protocollo'),
(18, 1278, 'Polo Didattico Lettere'),
(19, 837, 'Polo Didattico Biotecnologie'),
(20, 9, 'Ufficio Didattico'),
(21, 475, 'Polo Didattico Scienze'),
(22, 9, 'Ufficio Supporto Docenti'),
(23, 108, 'Aula Magna'),
(24, 10, 'Ufficio Erasmus'),
(25, 220, 'Parco della Didattica'),
(26, 185, 'Giardino Botanico'),
(27, 6, 'Ufficio Ricerca e Sviluppo'),
(28, 67, 'Aula Informatica 2'),
(29, 8, 'Ufficio Servizi Informatici'),
(30, 73, 'Aula Multimediale'),
(31, 99, 'Aula Laboratorio Fisica'),
(32, 99, 'Aula Didattica 202'),
(33, 102, 'Aula Studio C'),
(34, 6, 'Ufficio Servizi Informatici'),
(35, 852, 'Polo Didattico Fisica'),
(36, 4, 'Ufficio Orientamento'),
(37, 101, 'Aula Seminari'),
(38, 85, 'Aula Studio B'),
(39, 3, 'Ufficio Placement'),
(40, 10, 'Ufficio Placement'),
(41, 355, 'Polo Didattico Ingegneria'),
(42, 210, 'Giardino della Pace'),
(43, 8, 'Ufficio Supporto Docenti'),
(44, 61, 'Aula Didattica 202'),
(45, 102, 'Aula Didattica 102'),
(46, 93, 'Aula Laboratorio Matematica'),
(47, 4, 'Ufficio Erasmus'),
(48, 80, 'Aula Laboratorio Matematica'),
(49, 68, 'Aula Informatica 3'),
(50, 6, 'Ufficio Qualità'),
(51, 87, 'Aula Informatica 1'),
(52, 100, 'Aula Progetti'),
(53, 7, 'Ufficio Segreteria Studenti'),
(54, 5, 'Ufficio Risorse Umane'),
(55, 109, 'Aula Progetti'),
(56, 135, 'Giardino degli Studenti'),
(57, 140, 'Giardino della Conoscenza'),
(58, 59, 'Aula Studio C'),
(59, 211, 'Polo Didattico Informatica'),
(60, 96, 'Aula Informatica 2'),
(61, 59, 'Aula Conferenze'),
(62, 87, 'Aula Seminari'),
(63, 83, 'Aula Studio B'),
(64, 47, 'Aula Progetti'),
(65, 3, 'Ufficio Comunicazione'),
(66, 95, 'Aula Didattica 102'),
(67, 105, 'Aula Informatica 1'),
(68, 44, 'Aula Informatica Avanzata'),
(69, 9, 'Ufficio Logistica'),
(70, 211, 'Giardino delle Scienze'),
(71, 42, 'Aula Laboratorio Chimica'),
(72, 89, 'Aula Studio C'),
(73, 102, 'Giardino dei Saperi'),
(74, 43, 'Aula Studio B'),
(75, 238, 'Giardino della Ricerca'),
(76, 55, 'Aula Informatica 3'),
(77, 9, 'Ufficio Didattico'),
(78, 4, 'Ufficio Relazioni Internazionali'),
(79, 102, 'Aula Studio A'),
(80, 7, 'Ufficio Segreteria Studenti'),
(81, 83, 'Aula Progetti'),
(82, 6, 'Ufficio Segreteria Studenti'),
(83, 1499, 'Polo Didattico Fisica'),
(84, 250, 'Giardino delle Scienze'),
(85, 103, 'Aula Laboratorio Biologia'),
(86, 515, 'Polo Didattico Biotecnologie'),
(87, 6, 'Ufficio Qualità'),
(88, 47, 'Aula Seminari'),
(89, 109, 'Aula Laboratorio Chimica'),
(90, 10, 'Ufficio Segreteria Studenti'),
(91, 56, 'Aula Laboratorio Biologia'),
(92, 577, 'Polo Didattico Economia'),
(93, 719, 'Polo Didattico Medicina'),
(94, 8, 'Ufficio Protocollo'),
(95, 9, 'Ufficio Didattico'),
(96, 4, 'Ufficio Orientamento'),
(97, 9, 'Ufficio Risorse Umane'),
(98, 3, 'Ufficio Pianificazione'),
(99, 8, 'Ufficio Didattico'),
(100, 1139, 'Polo Didattico Comunicazione'),
(101, 112, 'Aula Didattica 201'),
(102, 138, 'Giardino della Pace'),
(103, 3, 'Ufficio Tecnico'),
(104, 1052, 'Polo Didattico Matematica'),
(105, 3, 'Ufficio Segreteria Studenti'),
(106, 10, 'Ufficio Placement'),
(107, 3, 'Ufficio Logistica'),
(108, 7, 'Ufficio Logistica'),
(109, 466, 'Polo Didattico Biotecnologie'),
(110, 7, 'Ufficio Servizi Informatici'),
(111, 1412, 'Polo Didattico Biotecnologie'),
(112, 62, 'Aula Progetti'),
(113, 5, 'Ufficio Logistica'),
(114, 8, 'Ufficio Servizi Informatici'),
(115, 42, 'Aula Studio A'),
(116, 6, 'Ufficio Ricerca e Sviluppo'),
(117, 283, 'Giardino della Ricerca'),
(118, 51, 'Aula Laboratorio Fisica'),
(119, 108, 'Aula Informatica Avanzata'),
(120, 6, 'Ufficio Qualità'),
(121, 82, 'Aula Studio C'),
(122, 3, 'Ufficio Affari Generali'),
(123, 8, 'Ufficio Segreteria Studenti'),
(124, 84, 'Aula Studio C'),
(125, 7, 'Ufficio Tecnico'),
(126, 45, 'Aula Informatica Avanzata'),
(127, 5, 'Ufficio Qualità'),
(128, 5, 'Ufficio Placement'),
(129, 4, 'Ufficio Tirocini'),
(130, 53, 'Aula Seminari'),
(131, 91, 'Aula Didattica 101'),
(132, 10, 'Ufficio Tirocini'),
(133, 91, 'Aula Studio B'),
(134, 7, 'Ufficio Relazioni Internazionali'),
(135, 62, 'Aula Laboratorio Chimica'),
(136, 5, 'Ufficio Amministrativo'),
(137, 1162, 'Polo Didattico Comunicazione'),
(138, 53, 'Aula Laboratorio Chimica'),
(139, 75, 'Aula Seminari'),
(140, 70, 'Aula Didattica 201'),
(141, 298, 'Giardino della Cultura'),
(142, 1105, 'Polo Didattico Matematica'),
(143, 81, 'Aula Studio A'),
(144, 8, 'Ufficio Servizi Informatici'),
(145, 110, 'Aula Multimediale'),
(146, 287, 'Parco della Didattica'),
(147, 102, 'Aula Informatica 3'),
(148, 59, 'Aula Conferenze'),
(149, 104, 'Aula Progetti'),
(150, 8, 'Ufficio Qualità'),
(151, 117, 'Aula Didattica 201'),
(152, 9, 'Ufficio Tirocini'),
(153, 104, 'Giardino delle Idee'),
(154, 101, 'Aula Studio B'),
(155, 138, 'Giardino della Ricerca'),
(156, 8, 'Ufficio Orientamento'),
(157, 99, 'Aula Seminari'),
(158, 3, 'Ufficio Qualità'),
(159, 134, 'Giardino dei Saperi'),
(160, 5, 'Ufficio Didattico'),
(161, 99, 'Aula Multimediale'),
(162, 9, 'Ufficio Tecnico'),
(163, 78, 'Aula Studio B'),
(164, 945, 'Polo Didattico Matematica'),
(165, 110, 'Aula Laboratorio Matematica'),
(166, 356, 'Polo Didattico Architettura'),
(167, 7, 'Ufficio Relazioni Internazionali'),
(168, 1365, 'Polo Didattico Fisica'),
(169, 5, 'Ufficio Didattico'),
(170, 115, 'Aula Magna'),
(171, 250, 'Giardino degli Studenti'),
(172, 10, 'Ufficio Tecnico'),
(173, 42, 'Aula Seminari'),
(174, 650, 'Polo Didattico Biotecnologie'),
(175, 107, 'Aula Laboratorio Fisica'),
(176, 7, 'Ufficio Placement'),
(177, 44, 'Aula Informatica 2'),
(178, 80, 'Aula Laboratorio Matematica'),
(179, 8, 'Ufficio Servizi Informatici'),
(180, 120, 'Giardino dei Saperi'),
(181, 59, 'Aula Studio B'),
(182, 5, 'Ufficio Didattico'),
(183, 98, 'Aula Conferenze'),
(184, 102, 'Aula Laboratorio Biologia')]

eventi = [(1, "Workshop di Economia Aziendale", "2024-02-12", "2024-02-13", 8, "Incontro di presentazione di nuove tecnologie", "PRSRCC56E69L045Y"),
(2, "Giornata della Creatività Digitale", "2022-05-12", "2022-05-12", 5, "Incontro di approfondimento metodologico", "RMNLCU08A19B882Z"),      
(3, "Concorso di Startup Studentesche", "2026-04-27", "2026-04-29", 298, "Ciclo di incontri tematici interdisciplinari", "CLBJCP02S16L219Y"),  
(4, "Workshop di Statistica", "2022-12-31", "2022-12-31", 1162, "Workshop pratico con simulazioni reali", "PGLRFL03M08B354B"),
(5, "Laboratorio di Informatica", "2020-05-11", "2020-05-11", 3, "Incontro di approfondimento metodologico", "PGLRFL03M08B354B"),
(6, "Giornata della Robotica", "2021-08-04", "2021-08-05", 1412, "Seminario di orientamento al lavoro", "TSTMTT60T09D394B"),
(7, "Giornata della Creatività", "2025-10-01", "2025-10-01", 115, "Evento culturale aperto al pubblico", "NREDNL98P01A913Z"),
(8, "Giornata della Creatività", "2023-12-02", "2023-12-02", 325, "Evento culturale aperto al pubblico", "ZCCGPP02T07A390P"),
(9, "Laboratorio di Chimica Organica", "2022-06-29", "2022-06-30", 87, "Conferenza su tematiche di attualità", "SRRLSN74H26L219Y"),
(10, "Evento di Innovazione Tecnologica", "2020-05-21", "2020-05-21", 238, "Evento culturale aperto al pubblico", "NNCPRZ61M68H266K"),
(11, "Giornata della Robotica", "2026-12-27", "2026-12-29", 53, "Workshop intensivo di aggiornamento", "TSCLXA86C08D969F"),
(12, "Torneo di Sci Universitario", "2020-06-24", "2020-06-24", 44, "Presentazione di progetti di ricerca innovativi", "PGLRFL03M08B354B"),    
(13, "Festival della Musica Universitaria", "2022-06-19", "2022-06-19", 650, "Evento istituzionale promosso dall’ateneo", "BRMDVD84P02A587E"), 
(14, "Evento di Innovazione Tecnologica", "2024-03-07", "2024-03-09", 109, "Giornata di sensibilizzazione e informazione", "VTLMSM83B20I386Q"),
(15, "Saggio Teatrale Studentesco", "2026-07-01", "2026-07-02", 104, "Presentazione di progetti di ricerca innovativi", "TSCLXA86C08D969F"),   
(16, "Giornata della Robotica", "2021-03-26", "2021-03-26", 9, "Presentazione di progetti di ricerca innovativi", "TSCLXA86C08D969F"),
(17, "Mostra Fotografica Universitaria", "2026-09-07", "2026-09-07", 102, "Seminario avanzato per studenti magistrali", "RNLNGL87A67C986S"),
(18, "Rassegna Cinematografica Universitaria", "2021-12-04", "2021-12-06", 10, "Evento aperto alla cittadinanza", "ZCCGPP02T07A390P"),
(19, "Evento di Volontariato Universitario", "2025-12-06", "2025-12-07", 10, "Iniziativa di orientamento post-laurea", "FRRDGI02C23D525W"),
(20, "Hackathon Informatica", "2024-11-30", "2024-11-30", 59, "Presentazione di progetti di ricerca innovativi", "BRMDVD84P02A587E"),
(21, "Workshop di Economia Aziendale", "2021-12-09", "2021-12-09", 140, "Tavola rotonda con professionisti del settore", "CLMCSR80B23H224A"),
(22, "Giornata della Creatività Digitale", "2021-02-03", "2021-02-04", 108, "Seminario avanzato per studenti magistrali", "NNCPRZ61M68H266K"),
(23, "Workshop di Comunicazione Scientifica", "2020-11-29", "2020-11-29", 91, "Incontro di divulgazione scientifica", "CNTMRC71D08B207F"),
(24, "Workshop di Scrittura Accademica", "2024-01-07", "2024-01-08", 1139, "Evento di formazione continua", "PRSGNN08R52D491D"),
(25, "Conferenza Internazionale", "2024-09-20", "2024-09-20", 61, "Incontro di presentazione di nuove tecnologie", "VTLMSM83B20I386Q"),
(26, "Laboratorio di Robotica", "2021-06-27", "2021-06-29", 102, "Workshop pratico per studenti universitari", "PGLRFL03M08B354B"),
(27, "Laboratorio di Robotica", "2020-12-01", "2020-12-01", 325, "Laboratorio interattivo a numero chiuso", "FRRRRT95E07G715D"),
(28, "Evento di Innovazione Tecnologica", "2024-07-09", "2024-07-09", 5, "Incontro di approfondimento metodologico", "BRMDVD84P02A587E"),
(29, "Rassegna Cinematografica Universitaria", "2021-10-20", "2021-10-20", 99, "Giornata di studio e confronto accademico", "PRSRCC56E69L045Y"),
(30, "Conferenza di Matematica Applicata", "2023-10-21", "2023-10-21", 10, "Giornata informativa sui servizi universitari", "CNISMN85T28L424I"),
(31, "Torneo di Sci Universitario", "2021-09-17", "2021-09-19", 8, "Conferenza su tematiche di attualità", "DMCLCU91S70F205J"),
(32, "Laboratorio di Informatica", "2023-12-22", "2023-12-23", 355, "Seminario introduttivo per nuovi iscritti", "SRRVCN59C25D027Z"),
(33, "Workshop di Scrittura Accademica", "2025-06-06", "2025-06-07", 67, "Presentazione di progetti di ricerca innovativi", "CNISMN85T28L424I"),
(34, "Giornata dell'Ingegneria", "2025-10-17", "2025-10-17", 93, "Evento di orientamento per studenti e famiglie", "CVLNGL82M52A037X"),
(35, "Festival della Musica Universitaria", "2023-10-11", "2023-10-11", 211, "Presentazione di progetti di ricerca innovativi", "FZADNC77B24D949G"),
(36, "Conferenza di Biotecnologie", "2023-05-15", "2023-05-15", 102, "Evento aperto alla cittadinanza", "PRSGNN08R52D491D"),
(37, "Evento di Innovazione Tecnologica", "2022-03-18", "2022-03-18", 1365, "Giornata di studio e confronto accademico", "SRRLSN74H26L219Y"),
(38, "Conferenza di Matematica Applicata", "2023-01-08", "2023-01-08", 6, "Conferenza su tematiche di attualità", "FBBLCA75B52A286A"),
(39, "Giornata dell'Ingegneria", "2021-07-24", "2021-07-24", 47, "Conferenza con relatori internazionali", "GNTNNL66C57D276W"),
(40, "Giornata delle Professioni Digitali", "2026-12-21", "2026-12-21", 210, "Evento di presentazione dei corsi di laurea", "NREDNL98P01A913Z")]

luogo_disponibile = {cod: set() for cod,_,_ in luoghi}  # giorni già occupati per ciascun luogo
evento_orari = {}  # giorni già assegnati per ciascun evento
codice_orario = 1  # contatore ID Orario_Evento

for evento in eventi:
    codice_evento, nome, inizio_str, fine_str, posti, descrizione, cf_promotore = evento
    inizio_dt = datetime.strptime(inizio_str, "%Y-%m-%d")
    fine_dt = datetime.strptime(fine_str, "%Y-%m-%d")
    
    # lista di tutti i giorni dell'evento
    giorni_evento = [(inizio_dt + timedelta(days=i)).date() for i in range((fine_dt - inizio_dt).days + 1)]
    
    # scegliamo un luogo compatibile con la capienza
    possibili_luoghi = [lu for lu in luoghi if lu[1] >= posti]
    if not possibili_luoghi:
        continue
    cod_luogo, cap, nome_luogo = random.choice(possibili_luoghi)

    for giorno_evento in giorni_evento:
        # controllo disponibilità del luogo
        if giorno_evento in luogo_disponibile[cod_luogo]:
            continue  # salto il giorno se luogo occupato
        luogo_disponibile[cod_luogo].add(giorno_evento)
        
        # generiamo ora di inizio casuale (tra le 8 e le 18)
        ora_inizio = random.randint(8, 17)
        minuti_inizio = random.choice([0, 30])
        inizio_orario = datetime.combine(giorno_evento, datetime.min.time()) + timedelta(hours=ora_inizio, minutes=minuti_inizio)
        
        # durata casuale 1-3 ore
        durata = random.randint(1, 3)
        fine_orario = inizio_orario + timedelta(hours=durata)
        
        # generazione INSERT
        print(f'insert into Orario_Evento values ({codice_orario}, {codice_evento}, "{inizio_orario}", {cod_luogo}, "{fine_orario}");')
        codice_orario += 1


